<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SmartCityNow - Feedback</title>
  <link rel="stylesheet" href="feedback.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
</head>

<body>
  <header class="hero" style="background-image: url('./photos/feedback.jpg');">
    <nav class="navbar">
      <div class="nav-links">
        <a href="mainpage.html">Home</a>
        <a href="detailpage.html">About</a>
        <a href="conta.html">Contact</a>
        <a href="servicse.html">Services</a>
        <a href="solutions.html" class="nav-link">Solutions</a>
        <a href="event.html" class="nav-link">Events</a>
        <a href="feedback.html" class="nav-link">Feedback</a>

      </div>
      <div class="nav-icons">
        <a href="login.html" class="icon"><img src="./photos/user-login-icon-14.png" alt="Login"></a>
        <a href="cal.html" class="icon2"><img src="./photos/cal.png" alt="Calendar"></a>
      </div>
    </nav>

    <div class="hero-box">
      <div class="hero-content">
        <i class="fas fa-comments" style="color: white;"></i>
        <h1>üí¨ Share Your Ideas</h1>
        <p>Your voice matters! Let us know how we can build a better city together.</p>
      </div>
    </div>
  </header>

  <main class="feedback-container">
    <section class="feedback-section">
      <h2 class="section-title">Community Feedback</h2>

      <div id="app" class="feedback-grid">
        <div class="feedback-form">
          <h3>üìù Write your feedback</h3>
          <div class="form-box">
            <textarea v-model="newComment" placeholder="e.g., Add more bike lanes, improve garbage pickup..."
              rows="5"></textarea>
            <button @click="addComment" class="submit-btn">Submit Feedback <i class="fas fa-paper-plane"></i></button>
          </div>
        </div>

        <div class="comments-section">
          <h3>üó® Recent Comments</h3>
          <div v-for="(comment, index) in comments" :key="index" class="comment-card">
            <div class="comment-header">
              <div class="avatar">
                <i class="fas fa-user"></i>
              </div>
              <div class="user-info">
                <span class="username">Anonymous User</span>
                <span class="timestamp">Just now</span>
              </div>
            </div>
            <div class="comment-text" v-if="editingIndex !== index">{{ comment }}</div>
            <div v-else class="edit-form">
              <textarea v-model="editText" rows="3"></textarea>
              <div class="edit-actions">
                <button @click="saveEdit" class="save-btn">Save</button>
                <button @click="cancelEdit" class="cancel-btn">Cancel</button>
              </div>
            </div>
            <div class="comment-actions">
              <button class="like-btn"><i class="far fa-thumbs-up"></i> Helpful</button>
              <button class="reply-btn"><i class="far fa-comment-dots"></i> Reply</button>
              <button @click="editComment(index)" class="edit-btn"><i class="far fa-edit"></i> Edit</button>
              <button @click="deleteComment(index)" class="delete-btn"><i class="far fa-trash-alt"></i> Delete</button>
            </div>
          </div>

          <div class="comment-card" v-if="comments.length === 0">
            <div class="comment-text">No comments yet. Be the first to share your thoughts!</div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <p>&copy; 2025 SmartCityNow | Create By Udula Madawala </p>
    <div class="social-links">
      <a href=" "><i class="fab fa-facebook"></i></a>
      <a href=" "><i class="fab fa-twitter"></i></a>
      <a href=" "><i class="fab fa-instagram"></i></a>
      <a href=" "><i class="fab fa-linkedin"></i></a>
    </div>
  </footer>

  <script>
    new Vue({
      el: '#app',
      data: {
        newComment: '',
        comments: [],
        editingIndex: null,
        editText: ''
      },
      methods: {
        addComment() {
          if (this.newComment.trim() !== '') {
            this.comments.unshift(this.newComment.trim());
            this.newComment = '';
          }
        },
        deleteComment(index) {
          if (confirm('Are you sure you want to delete this comment?')) {
            this.comments.splice(index, 1);
          }
        },
        editComment(index) {
          this.editingIndex = index;
          this.editText = this.comments[index];
        },
        saveEdit() {
          if (this.editText.trim() !== '') {
            this.comments.splice(this.editingIndex, 1, this.editText.trim());
            this.cancelEdit();
          }
        },
        cancelEdit() {
          this.editingIndex = null;
          this.editText = '';
        }
      }
    });
  </script>

  <script>
    let lastScroll = 0;
    const navbar = document.querySelector('.navbar');

    window.addEventListener('scroll', () => {
      const currentScroll = window.pageYOffset;

      if (currentScroll <= 0) {
        navbar.classList.remove('hide');
        return;
      }

      if (currentScroll > lastScroll && !navbar.classList.contains('hide')) {
        navbar.classList.add('hide');
      } else if (currentScroll < lastScroll && navbar.classList.contains('hide')) {
        navbar.classList.remove('hide');
      }

      lastScroll = currentScroll;
    });
  </script>
</body>

</html>